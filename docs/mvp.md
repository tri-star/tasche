# Tasche MVP定義書

## 概要

Tasche MVP（Minimum Viable Product）は、習慣化支援の核となる機能に絞り込んだ最小限の製品です。

**目的**: ユーザーが「やりたいこと」を1週間単位で計画し、日々の実績を記録して達成状況を確認できるようにする。

---

## MVP機能一覧

### 1. 認証機能

| 機能ID | 機能名           | 説明                                      | 優先度 |
| ------ | ---------------- | ----------------------------------------- | ------ |
| AUTH-1 | ソーシャルログイン | Auth0経由でGoogle/GitHubアカウントでログイン | 必須   |
| AUTH-2 | ログアウト       | セッションを終了しログイン画面に戻る      | 必須   |
| AUTH-3 | セッション維持   | ログイン状態を維持（リロードしてもログアウトしない） | 必須   |

### 2. タスク管理機能

| 機能ID | 機能名         | 説明                                                     | 優先度 |
| ------ | -------------- | -------------------------------------------------------- | ------ |
| TASK-1 | タスク作成     | タスク名を入力して新規タスクを作成                       | 必須   |
| TASK-2 | タスク編集     | 既存タスクの名前を変更                                   | 必須   |
| TASK-3 | タスク削除     | タスクを削除（アーカイブとしてDB上は保持）               | 必須   |
| TASK-4 | タスク一覧表示 | ユーザーのアクティブなタスク一覧を表示                   | 必須   |

### 3. 週の目標設定機能

| 機能ID | 機能名                 | 説明                                                       | 優先度 |
| ------ | ---------------------- | ---------------------------------------------------------- | ------ |
| GOAL-1 | ユニット時間選択       | 1ユニットの時間を選択（10分/30分/1時間/2時間）             | 必須   |
| GOAL-2 | 週のタスク選択         | 今週取り組むタスクを選択（既存から選択 or 新規作成）       | 必須   |
| GOAL-3 | 曜日別目標設定         | 各タスクの曜日ごとの目標ユニット数を設定                   | 必須   |
| GOAL-4 | 目標設定ウィザード     | ステップ式のUIで目標設定を完了                             | 必須   |
| GOAL-5 | 週の引き継ぎ           | 新しい週に前週の設定を自動コピー                           | 必須   |
| GOAL-6 | 目標変更（週途中）     | 週の途中でも目標ユニット数・ユニット時間を変更可能         | 必須   |

### 4. 実績記録機能

| 機能ID  | 機能名           | 説明                                                   | 優先度 |
| ------- | ---------------- | ------------------------------------------------------ | ------ |
| RECORD-1 | 実績入力         | タスクを選択し、実績ユニット数を入力                   | 必須   |
| RECORD-2 | 0.1単位入力      | 0.1ユニット刻みで実績を入力可能                        | 必須   |
| RECORD-3 | 実績修正         | 今週中の実績を修正可能                                 | 必須   |
| RECORD-4 | 曜日指定記録     | 今週中の任意の曜日の実績を記録                         | 必須   |

### 5. ダッシュボード機能

| 機能ID | 機能名                   | 説明                                                         | 優先度 |
| ------ | ------------------------ | ------------------------------------------------------------ | ------ |
| DASH-1 | 今日の目標表示           | 今日のタスクと目標ユニット数のリストを表示                   | 必須   |
| DASH-2 | 週間達成状況マトリックス | タスク×曜日の表形式で消化率を表示                            | 必須   |
| DASH-3 | 消化率の色表現           | 0%=赤、100%=緑のグラデーションで消化率を色で表現             | 必須   |
| DASH-4 | 実績登録ウィジェット     | コンボボックス+スピンボタンで実績を直接入力                  | 必須   |

### 6. 設定機能

| 機能ID | 機能名               | 説明                                         | 優先度 |
| ------ | -------------------- | -------------------------------------------- | ------ |
| SET-1  | タイムゾーン自動検出 | ブラウザからタイムゾーンを自動検出           | 必須   |

### 7. UI/UX機能

| 機能ID | 機能名           | 説明                                       | 優先度 |
| ------ | ---------------- | ------------------------------------------ | ------ |
| UI-1   | レスポンシブ対応 | PC/モバイルブラウザ両方で使用可能          | 必須   |
| UI-2   | ダークモード     | ダークモード表示に対応                     | 必須   |

---

## MVPに含めない機能（将来対応）

| カテゴリ     | 機能                                           |
| ------------ | ---------------------------------------------- |
| 統計・分析   | 先週の達成状況表示                             |
| 統計・分析   | 1か月の達成状況表示                            |
| 統計・分析   | 長期統計（3ヶ月、半年、1年）                   |
| 統計・分析   | グラフ表示                                     |
| データ出力   | CSVエクスポート                                |
| タイマー     | 作業時間計測タイマー                           |
| 通知         | リマインダー通知（ブラウザ/メール）            |
| 多言語       | 多言語対応（英語等）                           |
| 設定         | 週の開始曜日選択（日曜/月曜）                  |
| ゲーミフィケーション | クエスト機能                           |
| ゲーミフィケーション | バッジ機能                             |
| ゲーミフィケーション | ポイントシステム                       |
| ゲーミフィケーション | ミニゲーム                             |
| 目標設定     | 目標設定の半自動化                             |

---

## 技術仕様

### フロントエンド

| 項目               | 技術/ツール                          |
| ------------------ | ------------------------------------ |
| フレームワーク     | React + Vite                         |
| クライアント状態管理 | Jotai                               |
| サーバー状態管理   | TanStack Query (React Query)         |
| スタイリング       | Tailwind CSS                         |
| UIコンポーネント   | shadcn/ui（Radix UIベース）          |
| ホスティング       | CloudFront + S3                      |

### バックエンド

| 項目           | 技術/ツール              |
| -------------- | ------------------------ |
| フレームワーク | Python (FastAPI)         |
| Lambdaアダプタ | Mangum                   |
| ホスティング   | API Gateway + Lambda     |

### データベース

| 項目           | 技術/ツール              |
| -------------- | ------------------------ |
| DBMS           | PostgreSQL               |
| ホスティング   | Neon (ap-southeast-1)    |

### 認証

| 項目           | 技術/ツール              |
| -------------- | ------------------------ |
| 認証基盤       | Auth0                    |
| 対応プロバイダ | Google, GitHub           |

### インフラ

| 項目                | 技術/ツール    |
| ------------------- | -------------- |
| IaC（インフラ）     | Terraform      |
| IaC（アプリ関連）   | SAM            |
| 環境                | dev, prod（別AWSアカウント） |
| ローカル開発        | Docker Compose |

---

## 主要仕様

### ユニット設定

| 項目             | 仕様                                   |
| ---------------- | -------------------------------------- |
| ユニット時間選択肢 | 10分、30分、1時間、2時間             |
| 記録単位         | 0.1ユニット                            |
| 変更時の挙動     | 今週の実績値を新ユニット時間で再計算   |

### 週の管理

| 項目             | 仕様                                   |
| ---------------- | -------------------------------------- |
| 週の開始         | 月曜 04:00（固定）                     |
| タイムゾーン     | ブラウザから自動検出                   |
| 過去記録の修正   | 今週中のみ可能                         |
| 前週以前の記録   | 凍結（変更不可）                       |

### タスク管理

| 項目             | 仕様                                   |
| ---------------- | -------------------------------------- |
| タスク数上限     | なし                                   |
| 削除時の挙動     | アーカイブ（履歴では名前参照可能）     |
| 復元機能         | なし                                   |

---

## 非機能要件

| 項目               | 仕様                                   |
| ------------------ | -------------------------------------- |
| 想定ユーザー数     | 初期10人                               |
| パフォーマンス     | 明らかな無駄を排除、CloudFrontキャッシュ活用 |
| バックアップ       | 将来検討                               |

---

## 成功基準

MVPリリースの成功基準:

1. ユーザーがGoogle/GitHubアカウントでログインできる
2. タスクを作成し、週の目標を設定できる
3. 日々の実績を記録できる
4. ダッシュボードで今週の達成状況を確認できる
5. PC/モバイル両方のブラウザで使用できる
6. ダークモードで表示できる
