# Tasche 要件定義ヒアリングメモ

このドキュメントは、Tasche の要件定義を行うためのヒアリング事項をまとめたものです。
「回答」欄に記入をお願いします。

---

## 1. ユーザー・アカウント関連

| #   | 質問                                                                           | 回答                                                                |
| --- | ------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| 1-1 | ユーザー登録・ログイン機能は必要ですか？                                       | はい                                                                |
| 1-2 | 認証方式の希望はありますか？（メール/パスワード、Google OAuth、Magic Link 等） | Auth0 を利用したいです                                              |
| 1-3 | 登録なしで使える「ゲストモード」は必要ですか？                                 | いいえ                                                              |
| 1-4 | 複数デバイス間でのデータ同期は必要ですか？                                     | はい、データは API を通じてバックエンドサーバー側に保持してください |

---

## 2. タスク管理

| #   | 質問                                                       | 回答                                                                          |
| --- | ---------------------------------------------------------- | ----------------------------------------------------------------------------- |
| 2-1 | 1 ユーザーが登録できるタスク数に上限を設けますか？         | いいえ                                                                        |
| 2-2 | タスクの編集・削除は可能にしますか？                       | はい                                                                          |
| 2-3 | 削除したタスクのアーカイブ（過去データ保持）は必要ですか？ | はい、例えばタスクを削除しても、過去の履歴で名前が見れるようにしたいです。    |
| 2-4 | タスクにカテゴリやタグを付ける機能は必要ですか？           | いいえ。タスクは個人毎にそれほど多く作らない想定です。(5 ～ 10、多くても 20?) |
| 2-5 | タスクの表示順を並び替える機能は必要ですか？               | 今の時点では不要です                                                          |

---

## 3. ユニット設定

| #   | 質問                                                                                         | 回答                                                                                                                                                                                                                                                              |
| --- | -------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 3-1 | ユニット時間（10 分〜1 時間）はタスクごとに設定可能ですか？それとも全タスク共通ですか？      | ユニット時間は「現在の週」と紐付けるようにしてください。例えば水曜日に 1 時間->30 分に変更した場合、「月曜日は 1unit 目標、実績は 0.5unit」だったタスクは"実績達成"という扱いにしたいです。ただし、前週のタスクの記録は凍結とし、影響を受けないようにしたいです。 |
| 3-2 | 曜日ごとの目標ユニット数は週の途中でも変更可能ですか？                                       | はい。これも「現在の週」と紐づけて変更を反映させてください                                                                                                                                                                                                        |
| 3-3 | 同じタスクでも曜日によって目標ユニット数を変えられますか？（例：月曜は 2unit、火曜は 1unit） | はい、曜日毎にユーザーの自由時間は変わる可能性があるので、タスクの目標ユニット数は曜日毎に管理・設定が必要です                                                                                                                                                    |

---

## 4. 記録機能

| #   | 質問                                                                         | 回答                                                                                                                                                                           |
| --- | ---------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 4-1 | 記録は即時保存ですか？それとも「保存」ボタンでまとめて保存ですか？           | 保存ボタンで反映したいです。何となく、この画面はウィザード式になるイメージを持っているのですが、ウィザード式の場合は最後のステップで保存ボタンを押したときに確定させてください |
| 4-2 | 過去の記録を修正することは可能ですか？                                       | 「現在の週」の中では変更可としてください                                                                                                                                       |
| 4-3 | 何日前まで遡って記録を追加・修正できますか？（当日のみ／今週中／無制限など） | 今週中                                                                                                                                                                         |
| 4-4 | 作業時間を計測するタイマー機能は必要ですか？                                 | はい。（MVP には）含めない                                                                                                                                                     |

---

## 5. 統計・可視化

| #   | 質問                                                                     | 回答                                                                                                    |
| --- | ------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------- |
| 5-1 | グラフの種類に希望はありますか？（棒グラフ、折れ線グラフ、円グラフなど） | 今の時点では決めていませんが、                                                                          |
| 5-2 | 1 か月を超える長期統計（3 ヶ月、半年、1 年）は必要ですか？               | はい、特に、「度のタスクの達成状況が悪いか」の可視化を 1 か月やそれ以上の期間で実施できる必要があります |
| 5-3 | データの CSV エクスポート機能は必要ですか？                              | はい。(MVP には含めない)                                                                                |

---

## 6. UI/UX

| #   | 質問                                                                               | 回答                                                                                         |
| --- | ---------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| 6-1 | メイン画面のイメージはありますか？（ダッシュボード型、カレンダー型、リスト型など） | ダッシュボード型。1 週間の達成状況、今日の目標、タスクの実績登録ウィジェットなどが欲しいです |
| 6-2 | ダークモード対応は必要ですか？                                                     | はい。                                                                                       |
| 6-3 | リマインダー通知機能は必要ですか？（ブラウザ通知、メール等）                       | はい(MVP には含めない)                                                                       |
| 6-4 | 多言語対応は必要ですか？（日本語のみ／英語対応など）                               | はい                                                                                         |

---

## 7. 技術スタック

| #   | 質問                                                                          | 回答                                                                        |
| --- | ----------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| 7-1 | フロントエンドの希望はありますか？（React, Vue, Svelte, Next.js 等）          | React + Vite                                                                |
| 7-2 | バックエンドの希望はありますか？（Node.js, Python, Go 等）                    | Python(Fast API)                                                            |
| 7-3 | データベースの希望はありますか？（PostgreSQL, MySQL, MongoDB, Supabase 等）   | PostgreSQL(Neon 利用予定)                                                   |
| 7-4 | ホスティング先の希望はありますか？（Vercel, Cloudflare, AWS, 自前サーバー等） | frontend: cloudfront + S3, backend: API Gateway + lambda, cron: Eventbridge |

---

## 8. MVP（最小実用製品）の範囲

| #   | 質問                                                                                                   | 回答               |
| --- | ------------------------------------------------------------------------------------------------------ | ------------------ |
| 8-1 | concept.md の「後で追加したい要素」（クエスト、バッジ、ポイント等）は MVP に含めない前提でよいですか？ | はい               |
| 8-2 | 統計のグラフ表示は MVP に含めますか？それとも数値リストで十分ですか？                                  | MVP では数値リスト |
| 8-3 | 「1 か月の達成状況」は MVP に含めますか？                                                              | いいえ             |
| 8-4 | 「先週の達成状況」は MVP に含めますか？                                                                | いいえ             |

---

## 9. 非機能要件

| #   | 質問                                                         | 回答                                                                                                                                                                                              |
| --- | ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 9-1 | 想定ユーザー数（同時接続数）はどの程度ですか？               | まずは 10 人                                                                                                                                                                                      |
| 9-2 | パフォーマンス要件（応答速度など）に特別な要求はありますか？ | シビアではないですが、明らかな無駄は排除しておきたいです。このため、Neon を利用する関係からリージョンは ap-southeast-1、アクセスは日本になるので、CloudFront の静的アセットはキャッシュが必要です |
| 9-3 | データのバックアップ要件はありますか？                       | いずれ検討したいです。特に DB。                                                                                                                                                                   |

---

## 10. その他

| #    | 質問                                                         | 回答                                                               |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------------ |
| 10-1 | 「Tasche」という名前の由来や意味はありますか？               | タスクとスケジュールの組み合わせで、ドイツ語の「カバン」の意味も。 |
| 10-2 | 想定するターゲットユーザー像を教えてください。               | やりたいことがたくさんあって途方にくれてしまっているあなた         |
| 10-3 | ローンチ時期の目標はありますか？                             | なし                                                               |
| 10-4 | 収益化の予定はありますか？（無料のみ／有料プラン／広告など） | なし                                                               |

---

## 追加質問（第 2 回）

回答ありがとうございます。以下、追加で確認させてください。

### A. ユニット時間変更の計算ロジック確認

| #   | 質問                                                                                                                                                                                                                                                                                                                  | 回答                                                     |
| --- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- |
| A-1 | 3-1 の回答について確認です。ユニット時間を途中で変更した場合、**過去の実績値（unit 数）は変換されますか？** 例：月曜に 1unit=60 分で 30 分作業（0.5unit 記録）→ 水曜に 1unit=30 分に変更。この場合、月曜の実績は「0.5unit → 1.0unit に変換」されますか？それとも「0.5unit のまま、目標も 0.5unit に変換」されますか？ | このケースでは、実績が「0.5unit → 1.0unit に変換」される |

### B. MVP 範囲の追加確認

| #   | 質問                                                                                                                                  | 回答                                                                                                                                                                                |
| --- | ------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| B-1 | 多言語対応（6-4）は MVP に含めますか？それとも日本語のみでスタートしますか？                                                          | いいえ                                                                                                                                                                              |
| B-2 | ダークモード（6-2）は MVP に含めますか？                                                                                              | はい                                                                                                                                                                                |
| B-3 | ウィザード式の記録（4-1）について、どのようなステップを想定していますか？（例：曜日選択 → タスク選択 → ユニット数入力 → 確認 → 保存） | 1 ユニット=何分か選択(10 分、30 分、1 時間、2 時間) → 今週のタスク選択(タスクの新規入力、または既存タスク一覧から選択) → 1 週間の曜日毎のタスク/目標ユニット数の配分 → 確認 -> 保存 |

### C. 認証・技術詳細

| #   | 質問                                                                                                                              | 回答                                                                                                                                                                                                                       |
| --- | --------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| C-1 | Auth0 でサポートする認証方式は何ですか？（Google、GitHub、メール/パスワード等、複数選択可）                                       | Google, GitHub                                                                                                                                                                                                             |
| C-2 | FastAPI を Lambda で動かす場合、Mangum 等のアダプタを使用する想定でよいですか？                                                   | はい。ただ、ローカルは Docker compose で動かしたいです。                                                                                                                                                                   |
| C-3 | IaC（Infrastructure as Code）は使用しますか？使用する場合、希望はありますか？（Terraform, AWS CDK, SAM, Serverless Framework 等） | インフラは Terraform。dev, prod 環境を別 AWS アカウントでデプロイする予定。フロントエンド、Lambda、および それらと結び付きの強いリソース(API Gateway, Cloudfront, S3, これらに関する IAM Role/Policy)は SAM でデプロイ予定 |

### D. 週のリセットタイミング

| #   | 質問                                                                                                                                                               | 回答                                                                                          |
| --- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------- |
| D-1 | concept.md に「週の初めは日曜 04:00 または月曜 04:00 でユーザーが選択可能」とありますが、これは MVP に含めますか？それとも固定値（例：月曜 04:00）で開始しますか？ | MVP では固定。月曜 04:00。ただし、UI で変更できないだけで内部では変更を想定しておきたいです。 |
| D-2 | ユーザーのタイムゾーンは自動検出しますか？それとも設定画面で選択しますか？                                                                                         | 自動検出。                                                                                    |

### E. タスクの削除とアーカイブ

| #   | 質問                                                                                                                           | 回答                                                                                                                                                   |
| --- | ------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| E-1 | 削除したタスクは「アーカイブ」として DB に残り、タスク一覧には表示されないが過去履歴では名前が見える、という理解でよいですか？ | はい、アーカイブで残すか、タスク履歴テーブル上に original_xxx のような形で履歴上のみ削除・リネーム前の情報を残す方法もあると思うので、検討してください |
| E-2 | アーカイブしたタスクを復元する機能は必要ですか？                                                                               | いいえ                                                                                                                                                 |

### F. ダッシュボードの詳細

| #   | 質問                                                                                                                                          | 回答                                                                                                                                        |
| --- | --------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------- |
| F-1 | 「今日の目標」ウィジェットには何を表示しますか？（例：今日やるべきタスクと目標ユニット数のリスト）                                            | その日のタスクと、それぞれのタスクの目標ユニット数のリスト                                                                                  |
| F-2 | 「1 週間の達成状況」ウィジェットは MVP では数値リストとのことですが、どのような形式をイメージしていますか？（例：曜日ごとの達成率一覧表など） | 各曜日のタスクの一覧と、それぞれのタスクの消化率。100%=目標達成(100%以上もあり得る)。100%は緑色、0%は赤色でグラデーション(色相ベース)とする |

---

## 追加質問（第 3 回）

回答内容が明確になってきました。最後にいくつか確認させてください。

### G. ウィザードと実績記録の関係

| #   | 質問                                                                                                                                                                                                                       | 回答                                                                                                                                                                                                                                         |
| --- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| G-1 | B-3 のウィザードは「週の目標設定」用のウィザードと理解しました。一方、4-1 の質問は「実績の記録」についてでした。**実績の記録**はどのような UI で行いますか？（例：ダッシュボードから直接入力、別画面に遷移して入力、など） | まずはダッシュボードで直接入力。コンボボックス(テキスト入力によるフィルター付きのリストボックス)でタスクを選択し、スピンボタン付きの数値入力エリアで入力(または上下キーで 0.1 ずつ調整。ブラウザ標準は味気ないので、独自実装のリッチな UI)。 |
| G-2 | 実績記録の UI もウィザード式ですか？それとも、タスクを選んでユニット数を入力するシンプルな形式ですか？                                                                                                                     | 前述の通り、ダッシュボード上での直接入力                                                                                                                                                                                                     |

### H. タスクと週の関係

| #   | 質問                                                                                                                 | 回答                                                                                                                                                               |
| --- | -------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| H-1 | 登録したタスクは毎週自動的に表示されますか？それとも、毎週ウィザードで「今週やるタスク」を選び直す必要がありますか？ | 新しい週が始まる時は前週の継続であることが多いので、基本的には前週と同じ内容が自動で表示されるものとします。手作業で違う内容に変更・追加・削除できるものとします。 |
| H-2 | 「今週はこのタスクをお休みする」という機能は必要ですか？（タスク自体は削除せず、特定の週だけスキップ）               | 今のところ考えていません！                                                                                                                                         |

### I. ユニット時間の選択肢

| #   | 質問                                                                                                                                            | 回答 |
| --- | ----------------------------------------------------------------------------------------------------------------------------------------------- | ---- |
| I-1 | concept.md では「10 分〜1 時間」でしたが、B-3 の回答では「2 時間」も含まれています。選択肢は以下でよいですか？ **10 分、30 分、1 時間、2 時間** | はい |

### J. 1 週間の達成状況の表示

| #   | 質問                                                                                                                                                                    | 回答                           |
| --- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------ |
| J-1 | 「各曜日のタスクの一覧と消化率」について、表示形式は 7 曜日 × タスク数のマトリックス（表形式）をイメージしていますか？ 例：行がタスク、列が曜日で、各セルに消化率を表示 | なるほど、それでお願いします！ |

---

## ヒアリング結果サマリー

### 基本情報

| 項目               | 内容                                                       |
| ------------------ | ---------------------------------------------------------- |
| プロジェクト名     | Tasche（タスク + スケジュール、ドイツ語で「カバン」の意味） |
| ターゲットユーザー | やりたいことがたくさんあって途方にくれている人             |
| プラットフォーム   | PC/モバイル Webブラウザ                                    |

### 技術スタック

| レイヤー       | 技術                                                    |
| -------------- | ------------------------------------------------------- |
| フロントエンド | React + Vite                                            |
| バックエンド   | Python (FastAPI) + Mangum                               |
| データベース   | PostgreSQL (Neon, ap-southeast-1)                       |
| 認証           | Auth0 (Google, GitHub)                                  |
| ホスティング   | CloudFront + S3 (frontend), API Gateway + Lambda (API)  |
| IaC            | Terraform (インフラ), SAM (Lambda/API Gateway/CloudFront等) |
| ローカル開発   | Docker Compose                                          |

### MVP機能範囲

**含める:**
- ユーザー登録・ログイン（Auth0: Google, GitHub）
- タスクの作成・編集・削除（アーカイブ方式で履歴保持）
- 週の目標設定ウィザード
  - 1ユニット時間選択（10分/30分/1時間/2時間）
  - タスク選択（新規作成または既存から選択）
  - 曜日ごとの目標ユニット数設定
- 実績記録（ダッシュボードから直接入力）
- 今週の達成状況表示（タスク×曜日マトリックス、消化率を色で表現）
- 今日の目標表示（タスクと目標ユニット数のリスト）
- ダークモード
- データ同期（サーバーサイド保存）

**含めない（将来対応）:**
- 多言語対応
- 先週の達成状況
- 1か月の達成状況
- 長期統計（3ヶ月、半年、1年）
- グラフ表示
- CSVエクスポート
- タイマー機能
- リマインダー通知
- クエスト・バッジ・ポイントシステム

### 主要仕様

| 項目                 | 仕様                                                                    |
| -------------------- | ----------------------------------------------------------------------- |
| ユニット時間選択肢   | 10分、30分、1時間、2時間                                                |
| 記録の単位           | 0.1ユニット                                                             |
| 週の開始             | 月曜 04:00（MVP固定、内部で変更可能な設計）                             |
| タイムゾーン         | 自動検出                                                                |
| 週の引き継ぎ         | 前週と同じ内容が自動表示、手動で変更可能                                |
| 過去記録の修正       | 今週中のみ可能                                                          |
| ユニット時間変更時   | 実績値も新しいユニット時間に基づいて変換（例: 0.5unit → 1.0unit）       |
| 達成率の色表現       | 0%=赤、100%=緑のグラデーション（色相ベース）                            |

### UI構成（ダッシュボード）

1. **今日の目標ウィジェット** - その日のタスクと目標ユニット数のリスト
2. **実績登録ウィジェット** - コンボボックスでタスク選択 + スピンボタン付き数値入力（独自実装のリッチUI）
3. **1週間の達成状況** - タスク×曜日のマトリックス表示、各セルに消化率（色付き）
